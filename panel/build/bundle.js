!function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t){return null==t?"":t}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),d=a?t=>requestAnimationFrame(t):t;const f=new Set;function m(t){f.forEach((e=>{e.c(t)||(f.delete(e),e.f())})),0!==f.size&&d(m)}function p(t){let e;return 0===f.size&&d(m),{promise:new Promise((n=>{f.add(e={c:t,f:n})})),abort(){f.delete(e)}}}function h(t,e){t.appendChild(e)}function g(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function b(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function x(){return w(" ")}function k(){return w("")}function _(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}function E(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function M(t,e,n){t.classList[n?"add":"remove"](e)}const j=new Set;let N,T=0;function O(t,e,n,o,r,c,s,i=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*c(t);a+=100*t+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,f=t.ownerDocument;j.add(f);const m=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(y("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${r}ms 1 both`,T+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),T-=r,T||d((()=>{T||(j.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),j.clear())})))}function P(t){N=t}function I(t){(function(){if(!N)throw new Error("Function called outside component initialization");return N})().$$.on_mount.push(t)}const L=[],F=[],R=[],z=[],H=Promise.resolve();let q=!1;function D(){q||(q=!0,H.then(K))}function J(t){R.push(t)}let W=!1;const U=new Set;function K(){if(!W){W=!0;do{for(let t=0;t<L.length;t+=1){const e=L[t];P(e),Y(e.$$)}for(P(null),L.length=0;F.length;)F.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];U.has(e)||(U.add(e),e())}R.length=0}while(L.length);for(;z.length;)z.pop()();q=!1,W=!1,U.clear()}}function Y(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let G;function Q(){return G||(G=Promise.resolve(),G.then((()=>{G=null}))),G}function V(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const X=new Set;let Z;function tt(){Z={r:0,c:[],p:Z}}function et(){Z.r||r(Z.c),Z=Z.p}function nt(t,e){t&&t.i&&(X.delete(t),t.i(e))}function ot(t,e,n,o){if(t&&t.o){if(X.has(t))return;X.add(t),Z.c.push((()=>{X.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const rt={duration:0};function ct(t,e){t.d(1),e.delete(t.key)}function st(t,e){ot(t,1,1,(()=>{e.delete(t.key)}))}function it(t,e,n,o,r,c,s,i,l,a,u,d){let f=t.length,m=c.length,p=f;const h={};for(;p--;)h[t[p].key]=p;const g=[],v=new Map,$=new Map;for(p=m;p--;){const t=d(r,c,p),i=n(t);let l=s.get(i);l?o&&l.p(t,e):(l=a(i,t),l.c()),v.set(i,g[p]=l),i in h&&$.set(i,Math.abs(p-h[i]))}const y=new Set,b=new Set;function w(t){nt(t,1),t.m(i,u),s.set(t.key,t),u=t.first,m--}for(;f&&m;){const e=g[m-1],n=t[f-1],o=e.key,r=n.key;e===n?(u=e.first,f--,m--):v.has(r)?!s.has(o)||y.has(o)?w(e):b.has(r)?f--:$.get(o)>$.get(r)?(b.add(o),w(e)):(y.add(r),f--):(l(n,s),f--)}for(;f--;){const e=t[f];v.has(e.key)||l(e,s)}for(;m;)w(g[m-1]);return g}function lt(t){t&&t.c()}function at(t,e,o,s){const{fragment:i,on_mount:l,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,o),s||J((()=>{const e=l.map(n).filter(c);a?a.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(J)}function ut(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,n,c,s,i,l,a=[-1]){const u=N;P(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:o(),dirty:a,skip_bound:!1};let f=!1;if(d.ctx=c?c(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),f&&function(t,e){-1===t.$$.dirty[0]&&(L.push(t),D(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),f=!0,r(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();n.intro&&nt(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),K()}P(u)}class ft{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const mt=[];function pt(e,n=t){let o;const r=[];function c(t){if(s(e,t)&&(e=t,o)){const t=!mt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(s,i=t){const l=[s,i];return r.push(l),1===r.length&&(o=n(c)||t),s(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}const ht=pt({});function gt(t,e,n=5e3){if(!t)return;const o="_"+Math.floor(1e4*Math.random())+(new Date).getMilliseconds();ht.update((r=>(r[o]={text:t,level:e,id:o},setTimeout((()=>{ht.update((t=>(delete t[o],t)))}),n),r)))}const vt="dark",$t=pt(Boolean(localStorage.getItem(vt)));async function yt(t,e){return fetch(t,e).then((async t=>{if(!t.ok){const e=await t.json();throw new Error(e.error||e.message||t.statusText)}return t})).catch((t=>{throw gt(t.message,"danger"),t}))}$t.subscribe((t=>localStorage.setItem(vt,t?1:"")));const bt=pt({});let wt=!1;const xt=[];function kt(t,e,n){const o=t.slice();return o[4]=e[n],o}function _t(t){let e,n,o=t[2].title+"";return{c(){e=y("h1"),n=w(o),S(e,"class","text-3xl mb-3 font-semibold")},m(t,o){g(t,e,o),h(e,n)},p(t,e){4&e&&o!==(o=t[2].title+"")&&C(n,o)},d(t){t&&v(e)}}}function St(t){let e,n;return{c(){e=y("img"),S(e,"class","max-h-28 mx-auto mb-5 svelte-5drqor"),e.src!==(n=t[2].logo)&&S(e,"src",n),S(e,"alt","Logo")},m(t,n){g(t,e,n)},p(t,o){4&o&&e.src!==(n=t[2].logo)&&S(e,"src",n)},d(t){t&&v(e)}}}function Ct(t,e){let n,o,r,c,s,i=e[4]+"";function l(){return e[3](e[4])}return{key:t,first:null,c(){n=y("li"),o=w(i),r=x(),S(n,"class","px-3 py-2 mb-1 rounded-md cursor-pointer"),M(n,"bg-blue-400",e[0]===e[4]),M(n,"hover:bg-darker",e[0]!==e[4]),M(n,"dark:hover:bg-lighter",e[0]!==e[4]),this.first=n},m(t,e){g(t,n,e),h(n,o),h(n,r),c||(s=_(n,"click",l),c=!0)},p(t,r){e=t,2&r&&i!==(i=e[4]+"")&&C(o,i),3&r&&M(n,"bg-blue-400",e[0]===e[4]),3&r&&M(n,"hover:bg-darker",e[0]!==e[4]),3&r&&M(n,"dark:hover:bg-lighter",e[0]!==e[4])},d(t){t&&v(n),c=!1,s()}}}function At(e){let n,o,r,c,s=[],i=new Map,l=e[2].title&&_t(e),a=e[2].logo&&St(e),u=e[1];const d=t=>t[4];for(let t=0;t<u.length;t+=1){let n=kt(e,u,t),o=d(n);i.set(o,s[t]=Ct(o,n))}return{c(){l&&l.c(),n=x(),a&&a.c(),o=x(),r=y("nav"),c=y("ul");for(let t=0;t<s.length;t+=1)s[t].c()},m(t,e){l&&l.m(t,e),g(t,n,e),a&&a.m(t,e),g(t,o,e),g(t,r,e),h(r,c);for(let t=0;t<s.length;t+=1)s[t].m(c,null)},p(t,[e]){t[2].title?l?l.p(t,e):(l=_t(t),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null),t[2].logo?a?a.p(t,e):(a=St(t),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null),3&e&&(u=t[1],s=it(s,e,d,1,t,u,i,c,ct,Ct,null,kt))},i:t,o:t,d(t){l&&l.d(t),t&&v(n),a&&a.d(t),t&&v(o),t&&v(r);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Et(t,e,n){let o;i(t,bt,(t=>n(2,o=t)));let{sections:r}=e,{activeSection:c}=e;return t.$$set=t=>{"sections"in t&&n(1,r=t.sections),"activeSection"in t&&n(0,c=t.activeSection)},[c,r,o,t=>n(0,c=t)]}class Mt extends ft{constructor(t){super(),dt(this,t,Et,At,s,{sections:1,activeSection:0})}}function jt(t){const e=t-1;return e*e*e+1}function Nt(t,{delay:e=0,duration:n=400,easing:o=jt,x:r=0,y:c=0,opacity:s=0}={}){const i=getComputedStyle(t),l=+i.opacity,a="none"===i.transform?"":i.transform,u=l*(1-s);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*r}px, ${(1-t)*c}px);\n\t\t\topacity: ${l-u*e}`}}function Tt(t,{delay:e=0,duration:n=400,easing:o=jt}={}){const r=getComputedStyle(t),c=+r.opacity,s=parseFloat(r.height),i=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*c};height: ${t*s}px;padding-top: ${t*i}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*d}px;border-bottom-width: ${t*f}px;`}}function Ot(t,e,n){const o=t.slice();return o[19]=e[n].name,o[20]=e[n].script,o}function Bt(t){let e,n,o,r,c,s,i,l,a,u,d,f=t[5].result+"",m=t[5].executionTime+"",p=(t[5].error&&t[5].error.message||t[5].output)+"";return{c(){e=y("div"),n=y("code"),o=w("R: "),r=w(f),c=x(),s=y("code"),i=w("time: "),l=w(m),a=x(),u=y("pre"),d=w(p),S(e,"class","result")},m(t,f){g(t,e,f),h(e,n),h(n,o),h(n,r),h(e,c),h(e,s),h(s,i),h(s,l),h(e,a),h(e,u),h(u,d)},p(t,e){32&e&&f!==(f=t[5].result+"")&&C(r,f),32&e&&m!==(m=t[5].executionTime+"")&&C(l,m),32&e&&p!==(p=(t[5].error&&t[5].error.message||t[5].output)+"")&&C(d,p)},d(t){t&&v(e)}}}function Pt(t){let e,n,o,r,c,s,i,l,a,u,d=t[19]+"",f=t[20]+"";function m(){return t[16](t[20],t[19])}return{c(){e=y("div"),n=y("p"),o=y("b"),r=w(d),c=x(),s=y("p"),i=w(f),l=x(),S(s,"class","help mono font-mono ellipsis svelte-1ajpo9f"),S(e,"class","p-1 hover:bg-darker dark:hover:bg-lighter cursor-pointer")},m(t,d){g(t,e,d),h(e,n),h(n,o),h(o,r),h(e,c),h(e,s),h(s,i),h(e,l),a||(u=_(e,"click",m),a=!0)},p(e,n){t=e,4&n&&d!==(d=t[19]+"")&&C(r,d),4&n&&f!==(f=t[20]+"")&&C(i,f)},d(t){t&&v(e),a=!1,u()}}}function It(t,e){let n,o,r=!e[7]||e[19].toLowerCase().includes(e[7].toLowerCase()),c=r&&Pt(e);return{key:t,first:null,c(){n=k(),c&&c.c(),o=k(),this.first=n},m(t,e){g(t,n,e),c&&c.m(t,e),g(t,o,e)},p(t,n){e=t,132&n&&(r=!e[7]||e[19].toLowerCase().includes(e[7].toLowerCase())),r?c?c.p(e,n):(c=Pt(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(t){t&&v(n),c&&c.d(t),t&&v(o)}}}function Lt(e){let n,o,c,s,i,l,a,u,d,f,m,p,$,b,w,k,C,E,j=[],N=new Map,T=e[5]&&Bt(e),O=e[2];const B=t=>t[19];for(let t=0;t<O.length;t+=1){let n=Ot(e,O,t),o=B(n);N.set(o,j[t]=It(o,n))}return{c(){n=y("h5"),n.textContent="Script",o=x(),c=y("div"),s=y("div"),i=y("textarea"),l=x(),a=y("input"),u=x(),d=y("button"),d.textContent="Save",f=x(),m=y("button"),m.textContent="Run",p=x(),T&&T.c(),$=x(),b=y("div"),w=y("input"),k=x();for(let t=0;t<j.length;t+=1)j[t].c();S(n,"class","text-xl"),S(i,"wrap","off"),S(i,"rows","10"),S(i,"class","mono w-full font-mono svelte-1ajpo9f"),M(i,"is-danger",e[4]),S(a,"type","text"),S(a,"class","input"),S(a,"placeholder","Name"),S(a,"size","12"),M(a,"is-danger",e[3]),S(d,"class","button"),S(m,"class","button"),M(m,"is-loading",e[6]),S(s,"class","min-w-0 flex-auto pr-4"),S(w,"type","text"),S(w,"class","w-full"),S(w,"placeholder","Search"),S(b,"class","max-h-64 bg-darker overflow-y-auto min-w-0 flex-none w-1/3 md:w-1/4"),S(c,"class","flex")},m(t,r){g(t,n,r),g(t,o,r),g(t,c,r),h(c,s),h(s,i),A(i,e[0]),h(s,l),h(s,a),A(a,e[1]),h(s,u),h(s,d),h(s,f),h(s,m),h(s,p),T&&T.m(s,null),h(c,$),h(c,b),h(b,w),A(w,e[7]),h(b,k);for(let t=0;t<j.length;t+=1)j[t].m(b,null);C||(E=[_(i,"input",e[10]),_(i,"keyup",e[11]),_(i,"input",e[12]),_(a,"input",e[13]),_(a,"input",e[14]),_(d,"click",e[9]),_(m,"click",e[8]),_(w,"input",e[15])],C=!0)},p(t,[e]){1&e&&A(i,t[0]),16&e&&M(i,"is-danger",t[4]),2&e&&a.value!==t[1]&&A(a,t[1]),8&e&&M(a,"is-danger",t[3]),64&e&&M(m,"is-loading",t[6]),t[5]?T?T.p(t,e):(T=Bt(t),T.c(),T.m(s,null)):T&&(T.d(1),T=null),128&e&&w.value!==t[7]&&A(w,t[7]),135&e&&(O=t[2],j=it(j,e,B,1,t,O,N,b,ct,It,null,Ot))},i:t,o:t,d(t){t&&v(n),t&&v(o),t&&v(c),T&&T.d();for(let t=0;t<j.length;t+=1)j[t].d();C=!1,r(E)}}}const Ft="script",Rt="scriptName";function zt(t,e,n){let o=[],r=localStorage.getItem(Ft)||"",c=localStorage.getItem(Rt)||"",s=!1,i=!1,l=null,a=!1,u="";async function d(){try{n(2,o=await(await yt(BASE_PATH+"/script/list")).json())}catch(t){n(2,o=[])}}async function f(){if(!a){n(6,a=!0);try{n(5,l=await(await fetch(BASE_PATH+"/script/run",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({script:r})})).json())}finally{n(6,a=!1)}}}I((()=>{d()}));return t.$$.update=()=>{1&t.$$.dirty&&localStorage.setItem(Ft,r),2&t.$$.dirty&&localStorage.setItem(Rt,c)},[r,c,o,s,i,l,a,u,f,async function(){if(!c)return void n(3,s=!0);if(!r)return void n(4,i=!0);const t=await yt(BASE_PATH+"/script/save",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({script:r,name:c})});t.ok&&gt((await t.json()).message,"success"),d()},function(){r=this.value,n(0,r)},t=>t.ctrlKey&&"Enter"===t.key&&f(),()=>n(4,i=!1),function(){c=this.value,n(1,c)},()=>n(3,s=!1),function(){u=this.value,n(7,u)},(t,e)=>{n(0,r=t),n(1,c=e)}]}class Ht extends ft{constructor(t){super(),dt(this,t,zt,Lt,s,{})}}function qt(t,e,n){const o=t.slice();return o[7]=e[n],o}function Dt(t,e,n){const o=t.slice();return o[10]=e[n].name,o[11]=e[n].num,o}function Jt(t){let e,n;return{c(){e=y("canvas"),S(e,"id",n="metric_"+t[7].metric.id)},m(t,n){g(t,e,n)},p(t,o){1&o&&n!==(n="metric_"+t[7].metric.id)&&S(e,"id",n)},d(t){t&&v(e)}}}function Wt(t){let e,n,o,r,c=t[10]+"",s=t[11]+"";return{c(){e=y("div"),n=w(c),o=w(": "),r=w(s),S(e,"class","bg-darker dark:bg-lighter py-1 px-2 mx-2 rounded")},m(t,c){g(t,e,c),h(e,n),h(e,o),h(e,r)},p(t,e){1&e&&c!==(c=t[10]+"")&&C(n,c),1&e&&s!==(s=t[11]+"")&&C(r,s)},d(t){t&&v(e)}}}function Ut(t,e){let n,o,r,c,s,i,l,a=(e[7].metric.name||e[7].metric.id)+" | "+e[7].metric.seconds+" seconds",u=e[7].showChart&&Jt(e),d=[{name:"Minimum",num:Qt(e[7].current.min)},{name:"Maximum",num:Qt(e[7].current.max)},{name:"Average",num:Qt(e[7].current.avg)}],f=[];for(let t=0;t<3;t+=1)f[t]=Wt(Dt(e,d,t));return{key:t,first:null,c(){n=y("div"),o=y("h3"),r=w(a),c=x(),u&&u.c(),s=x(),i=y("div");for(let t=0;t<3;t+=1)f[t].c();l=x(),S(o,"class","text-lg pt-4 pb-3 text-center"),S(i,"class","justify-center text-lg mt-3 mb-4 flex"),S(n,"class","max-w-5xl"),this.first=n},m(t,e){g(t,n,e),h(n,o),h(o,r),h(n,c),u&&u.m(n,null),h(n,s),h(n,i);for(let t=0;t<3;t+=1)f[t].m(i,null);h(n,l)},p(t,o){if(e=t,1&o&&a!==(a=(e[7].metric.name||e[7].metric.id)+" | "+e[7].metric.seconds+" seconds")&&C(r,a),e[7].showChart?u?u.p(e,o):(u=Jt(e),u.c(),u.m(n,s)):u&&(u.d(1),u=null),1&o){let t;for(d=[{name:"Minimum",num:Qt(e[7].current.min)},{name:"Maximum",num:Qt(e[7].current.max)},{name:"Average",num:Qt(e[7].current.avg)}],t=0;t<3;t+=1){const n=Dt(e,d,t);f[t]?f[t].p(n,o):(f[t]=Wt(n),f[t].c(),f[t].m(i,null))}for(;t<3;t+=1)f[t].d(1)}},d(t){t&&v(n),u&&u.d(),$(f,t)}}}function Kt(e){let n,o=[],r=new Map,c=e[0];const s=t=>t[7].metric.id;for(let t=0;t<c.length;t+=1){let n=qt(e,c,t),i=s(n);r.set(i,o[t]=Ut(i,n))}return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=k()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);g(t,n,e)},p(t,[e]){1&e&&(c=t[0],o=it(o,e,s,1,t,c,r,n.parentNode,ct,Ut,n,qt))},i:t,o:t,d(t){for(let e=0;e<o.length;e+=1)o[e].d(t);t&&v(n)}}}function Yt(t){const e=function(t){try{document.head.style.backgroundColor=t;let e=window.getComputedStyle(document.head).backgroundColor;if(e=e.slice(e.indexOf("(")+1,e.indexOf(")")),e=e.split(",").map((t=>Number(t.trim()))),e.length<3)throw new Error;const n=function(t,e,n){t/=255,e/=255,n/=255;const o=Math.max(t,e,n),r=o-Math.min(t,e,n),c=r?o===t?(e-n)/r:o===e?2+(n-t)/r:4+(t-e)/r:0;return[60*c<0?60*c+360:60*c,100*(r?o<=.5?r/(2*o-r):r/(2-(2*o-r)):0),100*(2*o-r)/2]}(e[0],e[1],e[2]);return[`hsl(${n[0]},${n[1]}%,25%)`,`hsl(${n[0]},${n[1]}%,45%)`,`hsl(${n[0]},${n[1]}%,80%)`]}catch(t){return console.error(t),["darkgray","gray","lightgray"]}}(t.color||"orange");return new Chart(document.querySelector("#metric_"+t.id),{type:"line",data:{labels:[],datasets:t.seconds<=0?[Gt("Current",e[1])]:[Gt("Average",e[1]),Gt("Minimum",e[2]),Gt("Maximum",e[0])]},options:{responsive:!0,plugins:{legend:{labels:{}}},aspectRatio:16/9,scales:{y:{ticks:{callback:Qt},grid:{},min:t.chart&&t.chart.minY,max:t.chart&&t.chart.maxY},x:{ticks:{},grid:{}}},animation:{easing:"linear"}}})}function Gt(t,e){return{label:t,data:[],borderColor:e,backgroundColor:"transparent",pointRadius:0,tension:.3}}function Qt(t=0){let e="";return t>=1e9?(t/=1e9,e="G"):t>=1e6?(t/=1e6,e="M"):t>=1e3&&(t/=1e3,e="K"),(t=Math.round(100*t)/100).toLocaleString(window.navigator.language||"en-US")+e}function Vt(t,e,n){let o,r;i(t,$t,(t=>n(1,o=t))),i(t,bt,(t=>n(2,r=t)));const c={min:0,avg:0,max:0};let s=[];function l(t){const e=o?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.6)",n=t.config.options;n.plugins.legend.labels.color=n.scales.y.ticks.color=n.scales.y.grid.color=n.scales.x.ticks.color=n.scales.x.grid.color=e,n.scales.y.grid.color=n.scales.x.grid.color=o?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",t.update()}async function a(t){const{metric:e,chart:o}=t,r=t.current=await async function(t,e){try{const n=await fetch(BASE_PATH+"/monitor/"+t+"/"+e);return n.ok?n.json():c}catch(t){return console.error(t),c}}(e.id,e.seconds)||c;if(n(0,s),!o)return;const i=o.data.labels,l=o.data.datasets[0].data,a=1===o.data.datasets.length?[]:o.data.datasets[1].data,u=1===o.data.datasets.length?[]:o.data.datasets[2].data,d=(new Date).toTimeString().slice(0,8);i.push(d),l.push(r.avg),a.push(r.min),u.push(r.max);const f=e.chart.steps||30;if(l.length>f)i.shift(),l.shift(),a.shift(),u.shift();else if(l.length<f){const t=f-a.length;i.unshift(...new Array(t).fill("")),l.unshift(...new Array(t).fill(null)),a.unshift(...new Array(t).fill(null)),u.unshift(...new Array(t).fill(null))}o.update()}return I((()=>{const t=[];var e;return e=()=>{n(0,s=(r.metrics||[]).map((t=>({metric:t,current:c,showChart:!("chart"in t)||Boolean(t.chart)})))),(D(),H).then((()=>{for(const e of s){e.metric.seconds="number"==typeof e.metric.seconds?e.metric.seconds:10;const n=e.metric.interval||1e3;e.showChart&&(e.chart=Yt(e.metric),e.chart.config.options.animation.duration=n,l(e.chart)),t.push(setInterval((()=>a(e)),n)),a(e)}}))},wt?e():xt.push(e),()=>t.forEach(clearInterval)})),t.$$.update=()=>{3&t.$$.dirty&&s.forEach((t=>t.chart&&l(t.chart)))},[s,o]}class Xt extends ft{constructor(t){super(),dt(this,t,Vt,Kt,s,{})}}function Zt(t,e,n){const o=t.slice();return o[8]=e[n][0],o[9]=e[n][1],o[10]=e,o[11]=n,o}function te(t,e,n){const o=t.slice();return o[12]=e[n],o}function ee(t){let e,n,o,r,c,s,i,l,a,u,d,f=t[8]+"";function m(t,e){return t[9].values&&t[9].values.length&&t[9].values.length>1?oe:ne}let p=m(t),$=p(t),b=t[9].description&&se(t);function k(){return t[7](t[8],t[9])}return{c(){e=y("div"),n=y("div"),o=w(f),r=x(),c=y("div"),$.c(),s=x(),b&&b.c(),i=x(),l=y("button"),l.textContent="Save",a=x(),S(c,"class",""),S(l,"class","button"),S(e,"class","")},m(t,f){g(t,e,f),h(e,n),h(n,o),h(e,r),h(e,c),$.m(c,null),h(e,s),b&&b.m(e,null),h(e,i),h(e,l),h(e,a),u||(d=_(l,"click",k),u=!0)},p(n,r){t=n,1&r&&f!==(f=t[8]+"")&&C(o,f),p===(p=m(t))&&$?$.p(t,r):($.d(1),$=p(t),$&&($.c(),$.m(c,null))),t[9].description?b?b.p(t,r):(b=se(t),b.c(),b.m(e,i)):b&&(b.d(1),b=null)},d(t){t&&v(e),$.d(),b&&b.d(),u=!1,d()}}}function ne(t){let e,n,o;function r(){t[6].call(e,t[10],t[11])}return{c(){e=y("input"),S(e,"type","text"),S(e,"class","input")},m(c,s){g(c,e,s),A(e,t[9].value),n||(o=_(e,"input",r),n=!0)},p(n,o){t=n,1&o&&e.value!==t[9].value&&A(e,t[9].value)},d(t){t&&v(e),n=!1,o()}}}function oe(t){let e,n,o,r,c,s=!t[9].values.includes(t[9].value),i=s&&re(t),l=t[9].values,a=[];for(let e=0;e<l.length;e+=1)a[e]=ce(te(t,l,e));function u(){t[5].call(n,t[10],t[11])}return{c(){e=y("div"),n=y("select"),i&&i.c(),o=k();for(let t=0;t<a.length;t+=1)a[t].c();void 0===t[9].value&&J(u),S(e,"class","")},m(s,l){g(s,e,l),h(e,n),i&&i.m(n,null),h(n,o);for(let t=0;t<a.length;t+=1)a[t].m(n,null);E(n,t[9].value),r||(c=_(n,"change",u),r=!0)},p(e,r){if(t=e,1&r&&(s=!t[9].values.includes(t[9].value)),s?i?i.p(t,r):(i=re(t),i.c(),i.m(n,o)):i&&(i.d(1),i=null),1&r){let e;for(l=t[9].values,e=0;e<l.length;e+=1){const o=te(t,l,e);a[e]?a[e].p(o,r):(a[e]=ce(o),a[e].c(),a[e].m(n,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=l.length}1&r&&E(n,t[9].value)},d(t){t&&v(e),i&&i.d(),$(a,t),r=!1,c()}}}function re(t){let e,n,o,r=t[9].value+"";return{c(){e=y("option"),n=w(r),e.selected=!0,e.__value=o=t[9].value,e.value=e.__value},m(t,o){g(t,e,o),h(e,n)},p(t,c){1&c&&r!==(r=t[9].value+"")&&C(n,r),1&c&&o!==(o=t[9].value)&&(e.__value=o,e.value=e.__value)},d(t){t&&v(e)}}}function ce(t){let e,n,o,r=t[12]+"";return{c(){e=y("option"),n=w(r),e.__value=o=t[12],e.value=e.__value},m(t,o){g(t,e,o),h(e,n)},p(t,c){1&c&&r!==(r=t[12]+"")&&C(n,r),1&c&&o!==(o=t[12])&&(e.__value=o,e.value=e.__value)},d(t){t&&v(e)}}}function se(t){let e,n,o=t[9].description+"";return{c(){e=y("p"),n=w(o),S(e,"class","")},m(t,o){g(t,e,o),h(e,n)},p(t,e){1&e&&o!==(o=t[9].description+"")&&C(n,o)},d(t){t&&v(e)}}}function ie(t,e){let n,o,r=!e[1]||e[8].includes(e[1]),c=r&&ee(e);return{key:t,first:null,c(){n=k(),c&&c.c(),o=k(),this.first=n},m(t,e){g(t,n,e),c&&c.m(t,e),g(t,o,e)},p(t,n){e=t,3&n&&(r=!e[1]||e[8].includes(e[1])),r?c?c.p(e,n):(c=ee(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(t){t&&v(n),c&&c.d(t),t&&v(o)}}}function le(e){let n,o,c,s,i,l,a,u,d=[],f=new Map,m=e[0];const p=t=>t[8];for(let t=0;t<m.length;t+=1){let n=Zt(e,m,t),o=p(n);f.set(o,d[t]=ie(o,n))}return{c(){n=y("div"),o=y("button"),o.textContent="Refresh Config",c=x(),s=y("input"),i=x();for(let t=0;t<d.length;t+=1)d[t].c();l=k(),S(o,"class","button"),S(s,"type","text"),S(s,"class",""),S(s,"placeholder","Search")},m(t,r){g(t,n,r),h(n,o),g(t,c,r),g(t,s,r),A(s,e[1]),g(t,i,r);for(let e=0;e<d.length;e+=1)d[e].m(t,r);g(t,l,r),a||(u=[_(o,"click",e[2]),_(s,"input",e[4])],a=!0)},p(t,[e]){2&e&&s.value!==t[1]&&A(s,t[1]),11&e&&(m=t[0],d=it(d,e,p,1,t,m,f,l.parentNode,ct,ie,l,Zt))},i:t,o:t,d(t){t&&v(n),t&&v(c),t&&v(s),t&&v(i);for(let e=0;e<d.length;e+=1)d[e].d(t);t&&v(l),a=!1,r(u)}}}function ae(t,e,n){let o=[],r="";async function c(){const t=await yt(BASE_PATH+"/config"),e=await t.json();n(0,o=Object.entries(e).sort(((t,e)=>t[0].localeCompare(e[0]))).map((t=>{var e;return t[1].value=(e=t[1].value,Array.isArray(e)?e.join(","):"object"==typeof e?JSON.stringify(e):String(e)),t})))}async function s(t,e){const n=await yt(BASE_PATH+"/config/"+t,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({value:e})});gt((await n.json()).message,"info")}I((()=>{c()}));return[o,r,c,s,function(){r=this.value,n(1,r)},function(t,e){t[e][1].value=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,o)},function(t,e){t[e][1].value=this.value,n(0,o)},(t,e)=>s(t,e.value)]}class ue extends ft{constructor(t){super(),dt(this,t,ae,le,s,{})}}function de(t){let e,n;return{c(){e=y("h2"),n=w(t[0]),S(e,"class","text-2xl pt-8 pb-4")},m(t,o){g(t,e,o),h(e,n)},p(t,e){1&e&&C(n,t[0])},d(t){t&&v(e)}}}function fe(e){let n;return{c(){n=y("p"),n.textContent="Unknown section"},m(t,e){g(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function me(t){let e,n;return e=new Xt({}),{c(){lt(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function pe(e){let n;return{c(){n=y("p"),n.textContent="Processor"},m(t,e){g(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function he(t){let e,n;return e=new ue({}),{c(){lt(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function ge(e){let n;return{c(){n=y("p"),n.textContent="Marvel"},m(t,e){g(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function ve(t){let e,n;return e=new Ht({}),{c(){lt(e.$$.fragment)},m(t,o){at(e,t,o),n=!0},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ut(e,t)}}}function $e(t){let e,n,o,r,c,s=t[0]&&de(t);const i=[ve,ge,he,pe,me,fe],l=[];function a(t,e){return"Application"===t[0]?0:"Action"===t[0]?1:"Configuration"===t[0]?2:"System"===t[0]?3:"Monitor"===t[0]?4:5}return n=a(t),o=l[n]=i[n](t),{c(){s&&s.c(),e=x(),o.c(),r=k()},m(t,o){s&&s.m(t,o),g(t,e,o),l[n].m(t,o),g(t,r,o),c=!0},p(t,[c]){t[0]?s?s.p(t,c):(s=de(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null);let u=n;n=a(t),n!==u&&(tt(),ot(l[u],1,1,(()=>{l[u]=null})),et(),o=l[n],o||(o=l[n]=i[n](t),o.c()),nt(o,1),o.m(r.parentNode,r))},i(t){c||(nt(o),c=!0)},o(t){ot(o),c=!1},d(t){s&&s.d(t),t&&v(e),l[n].d(t),t&&v(r)}}}function ye(t,e,n){let{activeSection:o}=e;return t.$$set=t=>{"activeSection"in t&&n(0,o=t.activeSection)},[o]}class be extends ft{constructor(t){super(),dt(this,t,ye,$e,s,{activeSection:0})}}function we(t,e,n){const o=t.slice();return o[1]=e[n].text,o[2]=e[n].level,o[3]=e[n].id,o}function xe(n,o){let s,i,a,d,f,m,$,b,k,_=o[1]+"";return{key:n,first:null,c(){s=y("div"),i=y("div"),a=w(_),b=x(),S(i,"class",d=l("p-4 border-l-8 rounded-l-md shadow-md text-lg "+_e(o[2]))+" svelte-1afmur3"),S(i,"id",f=o[3]),S(s,"class","flex justify-end mb-4 svelte-1afmur3"),this.first=s},m(t,e){g(t,s,e),h(s,i),h(i,a),h(s,b),k=!0},p(t,e){o=t,(!k||1&e)&&_!==(_=o[1]+"")&&C(a,_),(!k||1&e&&d!==(d=l("p-4 border-l-8 rounded-l-md shadow-md text-lg "+_e(o[2]))+" svelte-1afmur3"))&&S(i,"class",d),(!k||1&e&&f!==(f=o[3]))&&S(i,"id",f)},i(n){k||(J((()=>{$&&$.end(1),m||(m=function(n,o,r){let s,i,l=o(n,r),a=!1,d=0;function f(){s&&B(n,s)}function m(){const{delay:o=0,duration:r=300,easing:c=e,tick:m=t,css:h}=l||rt;h&&(s=O(n,0,1,r,o,c,h,d++)),m(0,1);const g=u()+o,v=g+r;i&&i.abort(),a=!0,J((()=>V(n,!0,"start"))),i=p((t=>{if(a){if(t>=v)return m(1,0),V(n,!0,"end"),f(),a=!1;if(t>=g){const e=c((t-g)/r);m(e,1-e)}}return a}))}let h=!1;return{start(){h||(B(n),c(l)?(l=l(),Q().then(m)):m())},invalidate(){h=!1},end(){a&&(f(),a=!1)}}}(i,Nt,{opacity:1,x:document.querySelector("#"+o[3]).clientWidth||300})),m.start()})),k=!0)},o(n){m&&m.invalidate(),$=function(n,o,s){let i,l=o(n,s),a=!0;const d=Z;function f(){const{delay:o=0,duration:c=300,easing:s=e,tick:f=t,css:m}=l||rt;m&&(i=O(n,1,0,c,o,s,m));const h=u()+o,g=h+c;J((()=>V(n,!1,"start"))),p((t=>{if(a){if(t>=g)return f(0,1),V(n,!1,"end"),--d.r||r(d.c),!1;if(t>=h){const e=s((t-h)/c);f(1-e,e)}}return a}))}return d.r+=1,c(l)?Q().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),a&&(i&&B(n,i),a=!1)}}}(i,Tt,{}),k=!1},d(t){t&&v(s),t&&$&&$.end()}}}function ke(t){let e,n,o=[],r=new Map,c=Object.values(t[0]);const s=t=>t[3];for(let e=0;e<c.length;e+=1){let n=we(t,c,e),i=s(n);r.set(i,o[e]=xe(i,n))}return{c(){e=y("div");for(let t=0;t<o.length;t+=1)o[t].c();S(e,"class","fixed z-20 max-w-threeQuarter sm:max-w-half top-6 right-0 trans1 svelte-1afmur3")},m(t,r){g(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){1&n&&(c=Object.values(t[0]),tt(),o=it(o,n,s,1,t,c,r,e,st,xe,null,we),et())},i(t){if(!n){for(let t=0;t<c.length;t+=1)nt(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)ot(o[t]);n=!1},d(t){t&&v(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function _e(t){switch(t){case"danger":return"bg-red-300 border-red-600";case"success":return"bg-green-300 border-green-600";case"info":return"bg-blue-300 border-blue-600";default:return"bg-gray-200 border-gray-500"}}function Se(t,e,n){let o;return i(t,ht,(t=>n(0,o=t))),[o]}class Ce extends ft{constructor(t){super(),dt(this,t,Se,ke,s,{})}}function Ae(t){let e,n,o,c,s,i,l,a,u,d,f,m,p,$,k,C,A,E,j,N,T,O,B,P,I,L,R,H,q,D;function J(e){t[5](e)}e=new Ce({});let W={sections:t[4]};return void 0!==t[1]&&(W.activeSection=t[1]),s=new Mt({props:W}),F.push((()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(s,"activeSection",J))),E=new be({props:{activeSection:t[1]}}),{c(){lt(e.$$.fragment),n=x(),o=y("div"),c=y("aside"),lt(s.$$.fragment),l=x(),a=y("div"),u=b("svg"),d=b("path"),f=b("path"),m=b("path"),p=x(),$=y("div"),k=x(),C=y("div"),A=y("main"),lt(E.$$.fragment),j=x(),N=y("footer"),T=y("label"),O=y("input"),B=w("\n                Dark"),P=x(),I=y("label"),L=y("input"),R=w("\n                Wide"),S(c,"class","h-screen fixed w-64 lg:w-72 z-10 p-3 bg-white dark:bg-gray-900 shadow-lg trans1 sm:ml-0"),M(c,"-ml-72",!t[2]),S(d,"class","top trans1 svelte-104b1cc"),S(d,"stroke-linecap","round"),S(d,"stroke-linejoin","round"),S(d,"stroke-width","2"),S(d,"d","M4 6h16"),M(d,"active",t[2]),S(f,"class","middle trans1 svelte-104b1cc"),S(f,"stroke-linecap","round"),S(f,"stroke-linejoin","round"),S(f,"stroke-width","2"),S(f,"d","M4 12h16"),M(f,"active",t[2]),S(m,"class","bottom trans1 svelte-104b1cc"),S(m,"stroke-linecap","round"),S(m,"stroke-linejoin","round"),S(m,"stroke-width","2"),S(m,"d","M4 18h16"),M(m,"active",t[2]),S(u,"xmlns","http://www.w3.org/2000/svg"),S(u,"class","h-9 w-9"),S(u,"fill","none"),S(u,"viewBox","0 0 24 24"),S(u,"stroke","currentColor"),S(a,"class","fixed text-gray-800 bg-white rounded-full p-2 shadow-md bottom-0 right-0 z-10 mr-10 mb-10 cursor-pointer sm:hidden"),S($,"class","bg-overlay fixed w-screen h-screen inset-0 sm:hidden"),M($,"block",t[2]),M($,"hidden",!t[2]),S(A,"class","sm:ml-64 lg:ml-72 p-3 trans1"),S(O,"type","checkbox"),S(T,"class","checkbox"),S(L,"type","checkbox"),S(I,"class","checkbox"),S(N,"class","sm:ml-64 lg:ml-72 p-3 trans1 bg-purple-500"),S(C,"class","flex flex-col justify-between h-screen"),S(o,"class","mx-auto text-gray-800 dark:text-blue-100 font-sans"),M(o,"max-w-screen-2xl",!t[0])},m(r,i){at(e,r,i),g(r,n,i),g(r,o,i),h(o,c),at(s,c,null),h(o,l),h(o,a),h(a,u),h(u,d),h(u,f),h(u,m),h(o,p),h(o,$),h(o,k),h(o,C),h(C,A),at(E,A,null),h(C,j),h(C,N),h(N,T),h(T,O),O.checked=t[3],h(T,B),h(N,P),h(N,I),h(I,L),L.checked=t[0],h(I,R),H=!0,q||(D=[_(a,"click",t[6]),_(O,"change",t[7]),_(L,"change",t[8])],q=!0)},p(t,[e]){const n={};var r;!i&&2&e&&(i=!0,n.activeSection=t[1],r=()=>i=!1,z.push(r)),s.$set(n),4&e&&M(c,"-ml-72",!t[2]),4&e&&M(d,"active",t[2]),4&e&&M(f,"active",t[2]),4&e&&M(m,"active",t[2]),4&e&&M($,"block",t[2]),4&e&&M($,"hidden",!t[2]);const l={};2&e&&(l.activeSection=t[1]),E.$set(l),8&e&&(O.checked=t[3]),1&e&&(L.checked=t[0]),1&e&&M(o,"max-w-screen-2xl",!t[0])},i(t){H||(nt(e.$$.fragment,t),nt(s.$$.fragment,t),nt(E.$$.fragment,t),H=!0)},o(t){ot(e.$$.fragment,t),ot(s.$$.fragment,t),ot(E.$$.fragment,t),H=!1},d(t){ut(e,t),t&&v(n),t&&v(o),ut(s),ut(E),q=!1,r(D)}}}const Ee="section",Me="wide";function je(t,e,n){let o;i(t,$t,(t=>n(3,o=t)));const r=["Application","Action","Configuration","System","Monitor"],c=document.body.parentNode;let s=Boolean(localStorage.getItem(Me)),l=(()=>{let t=localStorage.getItem(Ee);if(t&&r.includes(t))return t})()||r[0],a=!1;$t.subscribe((t=>c.classList.toggle("dark",t))),I((async()=>{await async function(){const t=await(await yt(BASE_PATH+"/panel/config")).json();bt.set(t),wt=!0,xt.forEach((t=>t()))}()}));return t.$$.update=()=>{2&t.$$.dirty&&n(2,a=!1),2&t.$$.dirty&&localStorage.setItem(Ee,l),1&t.$$.dirty&&localStorage.setItem(Me,s?1:"")},[s,l,a,o,r,function(t){l=t,n(1,l)},()=>n(2,a^=!0),function(){o=this.checked,$t.set(o)},function(){s=this.checked,n(0,s)}]}new class extends ft{constructor(t){super(),dt(this,t,je,Ae,s,{})}}({target:document.body})}();
